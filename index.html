<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>BBVA Innova Challenge</title>
		<link href='http://fonts.googleapis.com/css?family=Francois+One' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" type="text/css" href="css/style.css">
		<link rel="stylesheet" type="text/css" href="js/dragdealer/dragdealer.css">
		<link href="css/bootstrap.css" rel="stylesheet">

    	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    	<!--[if lt IE 9]>
    	  	<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    		<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
   		<![endif]-->	
		<style>
  			@import url(http://cdn.leafletjs.com/leaflet-0.6.1/leaflet.css);
  			#overlay{
   				fill:None;
   				stroke:#ff00ff;
   				stroke-width:4px;
  			}
  		</style>
	</head>
	<body>
		<div class="header border-bottom">
			<div class="title">
				Visualization of the spending in a given postcode by customers from any postcode of the city of Madrid
			</div>
			<div class="subtitle">
				Customizable by category and week from November 2012 to April 2013.
			</div>
		</div>
				
		<div class="centered">	
			<div class="content">				
  				<div style="float:left;width:16%">
  					Postcode: <select class="form-control" data-bind="options: availablePostcodes, value: selectedPostcode"></select>
				</div>
				<div style="float:left;width:27%">	
					Category: <select class="form-control" data-bind="options: availableCategories, optionsText: 'description', value: selectedCategory"></select>
				</div>
				
				<div style="float:left;width:12%;margin-top:5px">
					Visualize data by:
				</div>
  				<div style="float:left;width:26%">  					
  					<div class="radio">
						<label>
    						<input type="radio" name="total" value="total" data-bind="checked: calculationMethod" /> Spending
  						</label>
					</div>
					<div class="radio">
  						<label>
    						<input type="radio" name="perPayment" value="perPayment" data-bind="checked: calculationMethod" /> Average spending per payment
    					</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="perCard" value="perCard" data-bind="checked: calculationMethod" /> Average spending per card
						</label>
					</div>
				</div>
				<div style="float:left;width:19%;">
					<div class="checkbox">
    					<label>
      						<input type="checkbox" data-bind="checked: orderBySpending"> Order bar chart by spending
    					</label>
  					</div>				
				</div>
				<div class="clear"></div>	
			</div>
		</div>		
		
		<div class="error">
			A problem occured while retrieving data for the postcode or category you selected. Please select another postcode or category.
		</div>
		
		<div class="slider-container pattern border-top">
			<div id="time-slider" class="dragdealer" style="position:relative">
				<div class="blue-bar handle">from <b data-bind="text: startDateText"></b> to <b data-bind="text: endDateText"></b></div>
			</div>
		</div>
		
		<div class="left pattern border-top border-bottom">
			<div id="map" style="height: 950px"></div>		
		</div>
		<div class="right pattern border-top border-bottom">	
			<div class="centered-chart">
				<div id="chart" style="height: 950px"></div>
			</div>
		</div>
		<div class="clear"></div>
		
		<div class="author border-bottom">
			This visualization has been developed by Carlos Rodriguez Vega
		</div>
		
		<div class="footer">
			<img src="images/bbva_logo.png"/>
		</div>
	</body>
	<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/knockout/2.3.0/knockout-min.js"></script>
	<script src="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.js"></script>
	<script src="http://d3js.org/d3.v3.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/dragdealer/dragdealer.js"></script>
	<script src="js/d3-tip/d3-tip.js"></script>
	<script src="js/accounting/accounting.min.js"></script>
	<script src="js/xdate/xdate.js"></script>
	<script src="js/geoJsonPostcodes.js"></script>
	<script src="js/code.js"></script>
</html>